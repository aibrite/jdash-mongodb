"use strict";var __extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},mongoose=require("mongoose"),DBSchema=function(t){function e(e,o){var r=t.call(this,e,o)||this,n=r;return r.pre("save",function(t){return n.preSave.apply(n,[this,t])}),r.method("toClient",function(){return n.toClient.apply(n,[this])}),r}return __extends(e,t),e.prototype.toClient=function(t,e){var o;if(e){o=new e;var r=t.toObject();for(var n in r)if(r.hasOwnProperty(n)){var i=t[n];void 0!==i&&o.hasOwnProperty(n)&&(o[n]=i)}}else o=t.toObject();return delete o.__v,delete o._meta,o},e.prototype.preSave=function(t,e){e()},e}(mongoose.Schema);exports.DBSchema=DBSchema;